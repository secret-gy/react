{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nvar _jsxFileName = \"/Users/icegame/Desktop/react-admin-client/src/components/header/index.js\";\nimport React from \"react\";\nimport './index.css';\nimport { withRouter } from 'react-router-dom';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { formateDate } from '../../utils/dateUtils';\nimport memoryutils from \"../../utils/memoryutils\";\nimport menuList from \"../../config/menuConfig\";\nimport { reqWeather } from '../../api/index';\n\nclass HeaderNav extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentTime: formateDate(Date.now()),\n      weather: ''\n    };\n\n    this.getTitle = () => {\n      const path = this.props.location.pathname;\n      let title;\n      menuList.forEach(item => {\n        if (item.key === path) {\n          title = item.title;\n        } else if (item.children) {\n          const cItem = item.children.find(cItem => cItem.key === path);\n\n          if (cItem) {\n            title = cItem.title;\n          }\n        }\n      });\n      return title;\n    };\n\n    this.outLogin = () => {\n      _Modal.confirm({\n        icon: /*#__PURE__*/React.createElement(ExclamationCircleOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 19\n          }\n        }),\n        content: '确定退出么',\n\n        onOk() {\n          console.log('OK');\n        }\n\n      });\n    };\n\n    this.getTime = () => {\n      this.IntervalId = setInterval(() => {\n        const currentTime = formateDate(Date.now());\n        this.setState({\n          currentTime\n        });\n      }, 1000);\n    };\n\n    this.getWeather = async () => {\n      const {\n        weather\n      } = await reqWeather('上海');\n      this.setState({\n        weather\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getTime();\n    this.getWeather();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.IntervalId);\n  }\n\n  render() {\n    const {\n      currentTime,\n      weather\n    } = this.state;\n    const username = memoryutils.user.username;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, \"\\u6B22\\u8FCE,\", username), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:\",\n      onClick: this.outLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"\\u9000\\u51FA\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-bottom-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, this.getTitle()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-bottom-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"header-bottom-right-time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, currentTime), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, weather))));\n  }\n\n}\n\nexport default withRouter(HeaderNav);","map":{"version":3,"sources":["/Users/icegame/Desktop/react-admin-client/src/components/header/index.js"],"names":["React","withRouter","ExclamationCircleOutlined","formateDate","memoryutils","menuList","reqWeather","HeaderNav","Component","state","currentTime","Date","now","weather","getTitle","path","props","location","pathname","title","forEach","item","key","children","cItem","find","outLogin","confirm","icon","content","onOk","console","log","getTime","IntervalId","setInterval","setState","getWeather","componentDidMount","componentWillUnmount","clearInterval","render","username","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './index.css'\nimport { withRouter } from 'react-router-dom'\nimport { Modal, Button, Space } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { formateDate } from '../../utils/dateUtils'\nimport memoryutils from \"../../utils/memoryutils\";\nimport menuList from \"../../config/menuConfig\";\nimport { reqWeather} from '../../api/index'\n\n\nclass HeaderNav extends React.Component{\n\n    state = {\n        currentTime:formateDate(Date.now()),\n        weather:''\n    }\n\n    getTitle = () => {\n        const path = this.props.location.pathname\n        let title\n        menuList.forEach(item => {\n            if (item.key === path){\n                title = item.title\n            }else if (item.children){\n                const cItem = item.children.find(cItem => cItem.key === path)\n                if (cItem){\n                    title = cItem.title\n                }\n            }\n        })\n        return title\n    }\n\n    outLogin = () =>{\n        Modal.confirm({\n            icon: <ExclamationCircleOutlined />,\n            content: '确定退出么',\n            onOk() {\n                console.log('OK');\n            }\n        })\n    }\n\n    getTime = () => {\n        this.IntervalId = setInterval(() => {\n            const currentTime = formateDate(Date.now())\n            this.setState({currentTime})\n        },1000)\n    }\n\n    getWeather = async () =>{\n        const {weather} = await reqWeather('上海')\n        this.setState({weather})\n    }\n\n    componentDidMount() {\n        this.getTime()\n        this.getWeather()\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.IntervalId)\n    }\n\n    render() {\n        const {currentTime, weather} = this.state\n        const username = memoryutils.user.username\n        return (\n            <div className='header'>\n                <div className='header-top'>\n                    <span>欢迎,{username}</span>\n                    <a href=\"javascript:\" onClick={this.outLogin}>退出</a>\n                </div>\n                <div className='header-bottom'>\n                    <div className='header-bottom-left'>\n                        {this.getTitle()}\n                    </div>\n                    <div className='header-bottom-right'>\n                        <span className='header-bottom-right-time'>{currentTime}</span>\n                        <img src=\"\" alt=\"\"/>\n                        <span>{weather}</span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(HeaderNav)"]},"metadata":{},"sourceType":"module"}