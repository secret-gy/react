{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport ajax from \"./ajax\";\nimport jsonp from 'jsonp';\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST');\nexport const reqAddUser = user => ajax('/manage/user/add', user, 'POST');\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`;\n    jsonp(url, {}, (err, data) => {\n      if (!err && data.status === \"success\") {\n        const {\n          date,\n          weather\n        } = data.results[0].weather_data[0];\n        resolve({\n          date,\n          weather\n        });\n      } else {\n        _message.error('获取天气失败');\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/Users/icegame/Desktop/react-admin-client/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqAddUser","user","reqWeather","city","Promise","resolve","reject","url","err","data","status","date","weather","results","weather_data","error"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAA7C;AACP,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAUN,IAAI,CAAC,kBAAD,EAAoBM,IAApB,EAAyB,MAAzB,CAAjC;AAEP,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAU;AAEhC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,UAAMC,GAAG,GAAI,2DAA0DJ,IAAK,0CAA5E;AACAP,IAAAA,KAAK,CAACW,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAMC,IAAN,KAAc;AACvB,UAAI,CAACD,GAAD,IAAQC,IAAI,CAACC,MAAL,KAAc,SAA1B,EAAoC;AAChC,cAAM;AAACC,UAAAA,IAAD;AAAOC,UAAAA;AAAP,YAAkBH,IAAI,CAACI,OAAL,CAAa,CAAb,EAAgBC,YAAhB,CAA6B,CAA7B,CAAxB;AACAT,QAAAA,OAAO,CAAC;AAACM,UAAAA,IAAD;AAAOC,UAAAA;AAAP,SAAD,CAAP;AACH,OAHD,MAGM;AACF,iBAAQG,KAAR,CAAc,QAAd;AACH;AACJ,KAPI,CAAL;AAQH,GAVM,CAAP;AAWH,CAbM","sourcesContent":["import ajax from \"./ajax\";\nimport jsonp from 'jsonp'\nimport {message} from 'antd'\n\nexport const reqLogin = (username, password) => ajax('/login',{username,password},'POST')\nexport const reqAddUser = (user) => ajax('/manage/user/add',user,'POST')\n\nexport const reqWeather = (city) => {\n\n    return new Promise((resolve, reject) => {\n        const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\n        jsonp(url,{},(err, data) =>{\n            if (!err && data.status===\"success\"){\n                const {date, weather} = data.results[0].weather_data[0]\n                resolve({date, weather})\n            }else {\n                message.error('获取天气失败')\n            }\n        })\n    })\n}\n"]},"metadata":{},"sourceType":"module"}